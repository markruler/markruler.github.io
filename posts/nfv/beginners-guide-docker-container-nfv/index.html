<!DOCTYPE html>
<html><head>
<title>[Î≤àÏó≠] NFV ÎèÑÏª§ Ïª®ÌÖåÏù¥ÎÑà Ï¥àÏã¨Ïûê Í∞ÄÏù¥Îìú</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="Faisal Khan">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="[Î≤àÏó≠] NFV ÎèÑÏª§ Ïª®ÌÖåÏù¥ÎÑà Ï¥àÏã¨Ïûê Í∞ÄÏù¥Îìú" />
<meta property="og:description" content="Faisal Khan" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://markruler.github.io/posts/nfv/beginners-guide-docker-container-nfv/" />
<meta property="article:published_time" content="2020-10-03T22:46:00+09:00" />
<meta property="article:modified_time" content="2020-10-03T22:46:00+09:00" /><meta property="og:site_name" content="markruler" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Î≤àÏó≠] NFV ÎèÑÏª§ Ïª®ÌÖåÏù¥ÎÑà Ï¥àÏã¨Ïûê Í∞ÄÏù¥Îìú"/>
<meta name="twitter:description" content="Faisal Khan"/>







<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'Yv2aESurCxnvYjIGMhSNP7uUY06moAngyqS73wMcVQI', 'auto');
	
	ga('send', 'pageview');
}
</script>



<script src="/vendor/js/jquery.min.js" ></script>
<script src="/vendor/js/popper.min.js" ></script>
<script src="/vendor/js/bootstrap.min.js" ></script>
<script src="/vendor/js/smooth-scroll.polyfills.min.js" ></script>
<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">
<script src="/vendor/js/vue.min.js" ></script>




<link rel="icon" href="https://markruler.github.io/images/favicon.ico">




<link rel="stylesheet" href="https://markruler.github.io/scss/journal.min.c116bc90d171283f099f173854157ec8f183f9073b93443b2c8ad82899ee9025.css" integrity="sha256-wRa8kNFxKD8Jnxc4VBV&#43;yPGD&#43;Qc7k0Q7LIrYKJnukCU=" media="screen">



<link rel="stylesheet" href="https://markruler.github.io/scss/dark-mode.min.552aae4638a84aa57cf0b195750a49ea9131d3bb621d1ed3ebc9b14b18166536.css" integrity="sha256-VSquRjioSqV88LGVdQpJ6pEx07tiHR7T68mxSxgWZTY=" media="screen">


<script src="https://markruler.github.io//js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Noto+Serif+SC|Material+Icons");
</script>




  
    <script src="https://markruler.github.io//js/toc.js"></script>
  










</head>
<body>
    	<div id="app"><div ref="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://markruler.github.io/">
    
        <div class="nav-title">
            markruler
        </div>
        
        <div class="nav-subtitle">
            Home
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about">
                About
            </a>
            
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/posts">
                Archive
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Categories
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Tags
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/index.xml">
                RSS Feed
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
Ported from <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2020 markruler
	

    </div>
    
</div><div ref="extraContainer" class="extra-container">
    
    
    
    <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- TOC -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#what-is-a-container" onclick="onNavClick(`#what-is-a-container-nav`)" id="what-is-a-container-nav">
									What is a container?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#what-is-a-docker-container" onclick="onNavClick(`#what-is-a-docker-container-nav`)" id="what-is-a-docker-container-nav">
									What is a Docker container?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#step-1-lets-start-with-the--hypervisor-in-nfv-architecture" onclick="onNavClick(`#step-1-lets-start-with-the--hypervisor-in-nfv-architecture-nav`)" id="step-1-lets-start-with-the--hypervisor-in-nfv-architecture-nav">
									Step 1: Let‚Äôs start with the Hypervisor in NFV Architecture
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#step-2-lets-zoom-in-virtual-machines" onclick="onNavClick(`#step-2-lets-zoom-in-virtual-machines-nav`)" id="step-2-lets-zoom-in-virtual-machines-nav">
									Step 2: Lets zoom in Virtual Machines
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#step-3-remove-virtual-machines-and-introduce-containers" onclick="onNavClick(`#step-3-remove-virtual-machines-and-introduce-containers-nav`)" id="step-3-remove-virtual-machines-and-introduce-containers-nav">
									Step 3. Remove virtual machines and introduce containers!
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#what-have-we-achieved-with-containers" onclick="onNavClick(`#what-have-we-achieved-with-containers-nav`)" id="what-have-we-achieved-with-containers-nav">
									What have we achieved with containers?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#future-of-containers-for-nfv" onclick="onNavClick(`#future-of-containers-for-nfv-nav`)" id="future-of-containers-for-nfv-nav">
									Future of containers for NFV
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a class="pagination-action" v-on:click="toggleDarkMode">
            <i class="material-icons pagination-action-icon" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons pagination-action-icon" v-else="isDarkMode">
                brightness_7
            </i>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about">
                    About
                </a>
                
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/posts">
                    Archive
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Categories
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Tags
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/index.xml">
                    RSS Feed
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- TOC -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#what-is-a-container" onclick="onNavClick(`#what-is-a-container-nav`)" id="what-is-a-container-nav">
									What is a container?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#what-is-a-docker-container" onclick="onNavClick(`#what-is-a-docker-container-nav`)" id="what-is-a-docker-container-nav">
									What is a Docker container?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#step-1-lets-start-with-the--hypervisor-in-nfv-architecture" onclick="onNavClick(`#step-1-lets-start-with-the--hypervisor-in-nfv-architecture-nav`)" id="step-1-lets-start-with-the--hypervisor-in-nfv-architecture-nav">
									Step 1: Let‚Äôs start with the Hypervisor in NFV Architecture
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#step-2-lets-zoom-in-virtual-machines" onclick="onNavClick(`#step-2-lets-zoom-in-virtual-machines-nav`)" id="step-2-lets-zoom-in-virtual-machines-nav">
									Step 2: Lets zoom in Virtual Machines
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#step-3-remove-virtual-machines-and-introduce-containers" onclick="onNavClick(`#step-3-remove-virtual-machines-and-introduce-containers-nav`)" id="step-3-remove-virtual-machines-and-introduce-containers-nav">
									Step 3. Remove virtual machines and introduce containers!
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#what-have-we-achieved-with-containers" onclick="onNavClick(`#what-have-we-achieved-with-containers-nav`)" id="what-have-we-achieved-with-containers-nav">
									What have we achieved with containers?
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#future-of-containers-for-nfv" onclick="onNavClick(`#future-of-containers-for-nfv-nav`)" id="future-of-containers-for-nfv-nav">
									Future of containers for NFV
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="https://markruler.github.io/">
            markruler
        </a>
        
        <button type="button" class="nav-darkmode-toggle" v-on:click="toggleDarkMode">
            <i class="material-icons" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons" v-else="isDarkMode">
                brightness_7
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://markruler.github.io/">
        <div class="single-column-header-title">markruler</div>
        
        <div class="single-column-header-subtitle">Home</div>
        

    </a>
</div>

            <div id="content">
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://markruler.github.io/images/nfv/vm-replaced-with-container.png')"
                    
                
            >
                <div class="post-title">
                    [Î≤àÏó≠] NFV ÎèÑÏª§ Ïª®ÌÖåÏù¥ÎÑà Ï¥àÏã¨Ïûê Í∞ÄÏù¥Îìú
                    
                    <div class="post-subtitle">
                        Faisal Khan
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2020ÎÖÑ 10Ïõî 03Ïùº 22Ïãú 46Î∂Ñ
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/">[cloud]</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/nfv">nfv</a>
                                &nbsp;
                            
                                <a href="/tags/virtualization">virtualization</a>
                                &nbsp;
                            
                                <a href="/tags/cloud">cloud</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <p><a href="https://telcocloudbridge.com/blog/beginners-guide-docker-container-nfv/">ÏõêÎ¨∏ ÎßÅÌÅ¨</a></p>
<blockquote>
<ul>
<li>ÏõêÏûëÏûê(Faisal Khan)Ïùò ÌóàÎùΩÏùÑ Î∞õÍ≥† Î≤àÏó≠Ìïú Í∏ÄÏûÖÎãàÎã§. Ïò§ÌÉÄ, Ïò§Ïó≠, Ïñ¥ÏÉâÌïú ÏùòÏó≠ Îì±ÏùÄ <a href="https://github.com/markruler/markruler.github.io/issues/new">Ïó¨Í∏∞</a>ÏóêÏÑú ÌîºÎìúÎ∞± Ï£ºÏãúÎ©¥ Í∞êÏÇ¨ÎìúÎ¶ΩÎãàÎã§! üëç</li>
</ul>
</blockquote>
<p>The emerging Docker containers have potential to revolutionalize NFV.</p>
<p>After all, they are lightweight compared to virtual machines; they need less overhead and resources; and, they can provide application isolation running in the same operating system, they live in.</p>
<p>That means,  if a Virtual Network function (VNF) in NFV can run in a Docker container with complete isolation, you may not need a virtual machine.</p>
<p>But, is it that easy?</p>
<p>And  what is the future of virtual machine, then?</p>
<p>Infact, it is too early to say anything about the future of virtual machines as docker containers are still evolving  (and so is NFV üòä).</p>
<p>However, if you stay till the end, you will  be able to find out, what makes Docker containers so special that everyone is talking about them now.</p>
<p>The primary aim of this guide is to walk you step by step in understanding the architecture of Docker container. In the process, you will also understand the basics of the hypervisor and virtual machine.</p>
<p>The concepts are explained, assuming zero prior knowledge about virtual machines and hypervisors.</p>
<h1 id="what-is-a-container">What is a container?</h1>
<p>Historically, containers emerged as  a way of running applications in a more flexible and agile way. Linux containers enabled running lightweight applications, within Linux OS directly. Without a need for the hypervisor and virtual machines, applications can run in isolation in the same operating system.</p>
<h1 id="what-is-a-docker-container">What is a Docker container?</h1>
<p>Google has been using Linux containers in  its data centers  since 2006. But, they became more popular with the arrival of docker containers in 2013. Which is a more simple and standard way to run containers compared to earlier version of containers.</p>
<p>The Docker container also runs in Linux. But Docker is not the only way run containers. LXC is another way to run containers. Both LXC and Docker have roots in Linux.</p>
<p>One of the reasons, the Docker container is more popular compared to competing containers such as LXC is its ability to load as ‚Äúimage‚Äù on host operating system in a simple and quick manner. Dockers are stored in the cloud as images and called upon for execution by users when needed in a simple way.</p>
<p>Moving forward, I will use the word ‚Äúcontainer‚Äù and ‚ÄúDocker container‚Äù interchangeably  as the concepts apply to both.</p>
<p>Step by Step guide to understanding  Docker containers in NFV</p>
<p>Virtual machines are good, yet they have problems:</p>
<p>You need  a dedicated operating system. And, you need a hypervisor to separate the virtual machine to achieve virtualization.</p>
<p>More applications mean more software overhead, more expensive and a need to keep them updated.</p>
<p>Yet, virtual machines are needed for NFV architecture, so let‚Äôs see the NFV architecture.</p>
<h2 id="step-1-lets-start-with-the--hypervisor-in-nfv-architecture">Step 1: Let‚Äôs start with the  Hypervisor in NFV Architecture</h2>
<p>In this diagram, I am showing the NFV architecture, you may have seen many times ( Need a refresher, <a href="../cheat-sheet-understanding-nfv-architecture/">visit here</a>).</p>
<p><img src="/images/nfv/hypervisor-in-nfv.png" alt="hypervisor-in-nfv"></p>
<p>For the purpose of this discussion, I will zoom only on the NFVI ( NFV Infrastructure) that has three distinct components:</p>
<p>The Hypervisor domain, the Compute domain, and the Network Infrastructure domain.</p>
<p>The virtualization layer  is actually the hypervisor, which is responsible for abstracting the hardware resources of a compute domain (physical/x86 servers). For example, you may have a single physical server ( physical memory and physical compute) but the hypervisor  can partition it into multiple virtual  memories and virtual computes in a way that each entity is independent.</p>
<p>Together, the virtualization layer ( which we called hypervisor) with the virtual resources is called ‚ÄúHypervisor domain‚Äù.</p>
<h2 id="step-2-lets-zoom-in-virtual-machines">Step 2: Lets zoom in Virtual Machines</h2>
<p>To understand virtual machines, I will now  expand the hypervisor domain to show what is inside this domain.</p>
<p>Have a look at Fig 2 below:</p>
<p>I am showing on the left the same Hypervisor domain as in Fig1 above. But in the figure to the right, I have expanded the Hypervisor domain to show the virtual machines. That is, the virtual resources of the hypervisor domain are now shown as virtual machines.</p>
<p><img src="/images/nfv/hypervisor-domain-with-vm.png" alt="hypervisor-domain-with-vm"></p>
<p>For simplicity, I have removed the virtual network/network blocks on the left, as they are not important for this discussion.</p>
<p>The virtualization layer has become the resource/network manager. The virtual compute/memory has become virtual machine (VM)</p>
<p>So what is a virtual machine?</p>
<p>A virtual machine  provides an environment in which a VNF ( Virtual Network Function) runs.</p>
<p>If you look at the diagram, each Virtual Machine is linked to a VNF .</p>
<p>Let‚Äôs take an example to clarify. There is a VNF1 called Virtual CPE and another VNF2 called Virtual Firewall. From the example above, each then runs into its own virtual machine. They can then be chained and connected internally through a hypervisor domain.</p>
<p>Also, note that virtual machines are logically separate from one another. This makes it possible to run independent operating systems on each virtual machine. For example, Guest Operating System OS1 can be Linux and Guest OS2 can be Solaris (as an example).</p>
<p>And in addition to the Guest operating systems/OS, did you notice that  there is also a need for Host Operating System/OS, which is an environment in which the hypervisor runs.Keep this important point in mind, as I discuss containers in the next paragraph.</p>
<p>Let‚Äôs take the journey forward and now remove the Virtual Machines.</p>
<h2 id="step-3-remove-virtual-machines-and-introduce-containers">Step 3. Remove virtual machines and introduce containers!</h2>
<p>Now instead of virtual machine, I introduce a totally new component Container</p>
<p><img src="/images/nfv/vm-replaced-with-container.png" alt="vm-replaced-with-container"></p>
<p>VNF1 now runs in container 1 and VNF2 runs in container 2 providing the same functionality as virtual machines.</p>
<p>What we have achieved is the same functionality as a virtual machine but within the same OS, which is Linux here.</p>
<p>Did you notice that there is no need for Guest OS now?</p>
<p>Simple architecture;  isn‚Äôt it?</p>
<h2 id="what-have-we-achieved-with-containers">What have we achieved with containers?</h2>
<ol>
<li>
<p>There is no need for Guest Operating System (OS) in the container environment as you can see that the Host OS is Linux. Therefore, they are lighter weight and need less overhead compared to virtual machines</p>
</li>
<li>
<p>Architecture is simplified by removing the hypervisor as now the containers can retain sufficient isolation at the OS level inside the same Host OS.</p>
</li>
<li>
<p>Virtual Machine provides hardware level virtualization  meaning classic virtual machines take a host and partition it via hypervisor software. This essentially means that VMs are isolated from the OS of the host machine. You can run a windows Host over a Linux operating system.On the other hand, containers provide OS level virtualization. That is in the same OS, applications can keep themselves isolated. This is far less overhead compared to VM as the whole OS is not duplicated.</p>
</li>
</ol>
<p>That‚Äôs it about the Containers.</p>
<h2 id="future-of-containers-for-nfv">Future of containers for NFV</h2>
<p>Let‚Äôs face it, the current NFV architecture and standards are based on the Virtual machines.</p>
<p>Containers are still new to NFV. There are still a lot of development going on especially from a security point of view. As you can see that the Host OS is exposed to all containers so there could be potential multi-tenancy security issues.</p>
<p>However, they do promise a good future considering the ease and simplicity of running the VNFs in such environments. Also, they can open a door to running microservices instead of running a complete VNF over a virtual machine.</p>
<p>For example in the case of virtual CPE, a lot of its components can be decomposed into small containers and chained together. By decomposing the functions, this will provide an opportunity for small software vendors to develop small functions of a VNF easily with less overhead.</p>
<p>Did this guide help you in understanding the containers in a simple way ?</p>
<p>Share your views in the following comments section.</p>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">ÏµúÏ¢Ö ÏàòÏ†ï: 2020ÎÖÑ 10Ïõî 03Ïùº</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">
            
            </nav>
            <div class="post-comment-wrapper">
                







            </div>
        </div>
    </div>
</div>

            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
Ported from <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2020 markruler
	
</div>
            </div>
    <script>
let app;

app = new Vue({
    el: '#app',
    data: {
        scrollY: 0,
        navOpacity: 0,
        isDrawerOpen: false,
        mounted: false,
        isDarkMode: false
    },
    methods: {
            sgn(t, x) {
                let k = 1. / (1. - 2 * t);
                if (x <= t) return 0;
                else if (x >= 1 - t) return 1;
                else {
                    return k * (x - t);
                }
            },
            handleScroll() {
                this.scrollY = window.scrollY;
                this.navOpacity = this.sgn(.0, Math.min(1, Math.max(0, window.scrollY / (this.pageHeadHeight() - this.navBarHeight() * 0.8))));
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;

                if (this.navOpacity >= 1) {
                    navBackground.style.opacity = 1;
                    navTitle.style.opacity = 1;
                } else {
                    navBackground.style.opacity = 0;
                    navTitle.style.opacity = 0;
                }
            },
            handleResize() {
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;
                extraContainer.style.left = (streamContainer.offsetWidth - extraContainer.offsetWidth) + 'px';
            },
            navBarHeight() {
                return this.$refs.navBar.offsetHeight;
            },
            pageHeadHeight() {
                return this.$refs.pageHead.offsetHeight;
            },
            toggleDrawer() {
                this.isDrawerOpen = !this.isDrawerOpen;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            closeDrawer() {
                this.isDrawerOpen = false;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                if (this.isDarkMode==true){
                    document.cookie = "night=1;path=/";
                    document.body.classList.add("night");
                } else {
                    document.cookie = "night=0;path=/";
                    document.body.classList.remove("night");
                }
            }
    },
    created() {
        window.addEventListener('scroll', this.handleScroll);
        window.addEventListener('resize', this.handleResize);
        window._nonDesktop = function () {
            let check = false;
            (function (a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        };
        
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1");
        if (night==""){
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                
            }
        }else{
            
            if (night=="1") {
                this.toggleDarkMode();
            }
        }
    },
    mounted() {
        this.handleScroll();
        this.handleResize();
        this.mounted = true;

        
    },
    destroyed() {
        window.removeEventListener('scroll', this.handleScroll);
        window.removeEventListener('resize', this.handleResize);
    }
});
</script>

<script src="https://markruler.github.io//js/journal.js"></script>
    </body>
</html>
